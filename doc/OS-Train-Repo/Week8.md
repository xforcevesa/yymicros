# Week 8

本周尝试实现自动化选择模块启动。大致流程描述如下：

1. 根据一个给定的源代码或者二进制文件，得到它相关的 syscall 列表
2. 根据 syscall 列表，自动生成内核的构建文件，选择对应的模块启动
3. 启动内核之后，将对应的文件加载进内核中运行



但是遇到了一个问题，对于源代码的 syscall 列表获取部分：

1. 若使用静态分析工具，则对于手动调用 syscall 的情况，如果直接使用无条件跳转等指令来进行 syscall，则无法通过静态分析，而需要依赖执行流才能知道当前调用的 syscall id 是什么，如下列指令：

   ```assembly
   FUN:
   	ecall
   li a7,10
   jalr FUN
   ```

2. 若使用动态分析工具，面对交互式程序又无法自动到达程序的每一个可达点，所以可能漏过系统调用。



找了一圈分析工具，没找到合适的能够处理所有情况的，所以暂时只能选择其中一种来进行分析。

选择静态分析工具，通过 `rust-objdump` 来获取二进制文件的汇编代码，并按照执行顺序（假设不发生跳转）来获取所有的 syscall id。